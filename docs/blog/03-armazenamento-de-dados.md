---
slug: armazenamento-de-dados
title: Armazenamento de dados
date: 2024-09-26
prevPost: /blog/02-ingestao-de-dados
nextPost: /blog/04-transformando-dados
authors:
  name: Joel Maykon
  title: Pesquisador em Inteligência Artificial DIMAp/UFRN
  url: https://github.com/joelmaykon94
  image_url: https://avatars.githubusercontent.com/u/36075156?v=4
tags: [engenharia, dados]
---
copia.

## Copia

Eu gostaria que você pensasse por um momento sobre todas as diferentes maneiras que você interage com sistemas de armazenamento de dados no dia a dia. No seu laptop, por exemplo, você pode criar ou excluir arquivos, ou mover arquivos entre diferentes pastas. Ao fazer isso, você está alterando como as coisas são armazenadas no seu disco rígido ou na unidade de estado sólido. Quando você abre aplicativos, está carregando-os na memória de acesso aleatório (RAM), que é simplesmente outro tipo de armazenamento que permite um acesso mais rápido, ou você pode estar baixando novos arquivos ou aplicativos da Internet, ou fazendo com que alguns de seus arquivos sejam automaticamente salvos em armazenamento em nuvem. Com seu smartphone, você também pode estar enviando ou recebendo mensagens ou interagindo com aplicativos, efetivamente movendo dados entre diferentes componentes de armazenamento no seu dispositivo, bem como na nuvem. Com quase qualquer ação que você realiza em um dispositivo digital ou online, você está interagindo com sistemas de armazenamento de dados, e pode encontrar os limites desses sistemas, como ficar sem espaço para armazenar fotos no seu telefone ou tentar enviar arquivos que são muito grandes. A função, o desempenho e as limitações que você encontra terão muito a ver com a forma como esses sistemas estão configurados.

Da mesma forma, no seu trabalho como engenheiro de dados, a função, o desempenho e as limitações dos sistemas que você constrói terão muito a ver com as soluções de armazenamento que você escolhe para dar suporte a esses sistemas. Para começar, vamos dar uma olhada em alguns dos componentes de hardware bruto do armazenamento. Na sua vida cotidiana, você provavelmente se familiarizou com várias formas de armazenamento de estado sólido, como cartões de memória flash ou unidades de estado sólido em seu laptop ou smartphone. Em contraste, você provavelmente não leu dados de um disquete recentemente. Você poderia ser perdoado por pensar que o mundo avançou dos discos magnéticos como uma solução de armazenamento de dados. No entanto, a verdade é que os discos magnéticos ainda formam a espinha dorsal dos sistemas de armazenamento modernos, e isso se deve principalmente ao baixo custo do armazenamento em disco. No momento da gravação, o armazenamento em disco é cerca de 2 a 3 vezes mais barato que o armazenamento em estado sólido. A RAM, comumente referida como memória, é outra forma de armazenamento físico com a qual você pode estar familiarizado. A RAM oferece velocidades de leitura e gravação muito mais rápidas do que as unidades de estado sólido ou discos, tornando-a um componente crítico de muitas aplicações e arquiteturas. No entanto, o armazenamento em RAM pode ser 30 a 50 vezes mais caro que o armazenamento em estado sólido. Além disso, é volátil, no sentido de que, se seu sistema perder energia, na maioria das vezes, dependendo do tipo de RAM que você usa, a memória é perdida instantaneamente.

Na maioria das arquiteturas modernas, os dados passarão por armazenamento magnético, unidades de estado sólido e memória à medida que avançam pelas várias fases de processamento do pipeline. No entanto, os componentes físicos de armazenamento são apenas um aspecto de como o armazenamento de dados é implementado em toda a sua arquitetura. Sistemas modernos e de armazenamento em nuvem são comumente distribuídos em vários clusters e data centers. Isso significa que coisas como rede, CPU, serialização, compressão e cache são ingredientes críticos para armazenar dados em sistemas de dados modernos. Não se preocupe se você não estiver familiarizado com todas as coisas que mencionei. Vamos entrar mais nos detalhes de cada um desses elementos de armazenamento ao longo do curso.

Como engenheiro de dados, normalmente você não será responsável por gerenciar os detalhes granulares de como seus dados se movem e são armazenados em uma rede de data centers e dispositivos de armazenamento físico. Em vez disso, você trabalhará com sistemas de armazenamento como sistemas de gerenciamento de banco de dados ou plataformas de armazenamento de objetos, como o Amazon S3. Dependendo dos requisitos da sua arquitetura, você também pode trabalhar com sistemas como Apache Iceberg ou Hudi, sistemas de armazenamento baseados em cache e memória, ou armazenamento em streaming. Todos esses sistemas de armazenamento de dados são construídos sobre os ingredientes físicos e outros componentes de armazenamento que existem dentro de servidores e clusters, permitindo que esses sistemas ingessem e recuperem dados usando diferentes protocolos de acesso.

Finalmente, no seu trabalho como engenheiro de dados, é provável que você não trabalhe apenas com sistemas de armazenamento individuais, mas com combinações de sistemas de armazenamento organizados em abstrações de armazenamento, como um data warehouse, um data lake ou a mais recente combinação desses conceitos, o data lake house. Com as ferramentas de abstração de armazenamento, em vez de se preocupar com os detalhes de como os componentes subjacentes estão organizados, você escolherá vários parâmetros de configuração que permitem atender às necessidades do seu sistema em termos de latência, escalabilidade e custo.

Se você pensar sobre o armazenamento como uma hierarquia, como você organizaria os diferentes aspectos do armazenamento? Bem, na base, você tem os ingredientes brutos do armazenamento de dados, incluindo os vários componentes físicos, como disco, RAM e armazenamento em estado sólido, assim como os diversos ingredientes não físicos do armazenamento, como rede e serialização. Em seguida, acima disso, você tem sistemas de armazenamento que são construídos a partir desses ingredientes brutos, e esses incluem sistemas de banco de dados, armazenamento de objetos e muito mais. Finalmente, no topo da hierarquia, você tem abstrações de armazenamento, que são combinações de sistemas de armazenamento que permitem que você atenda às suas necessidades de armazenamento de dados de alto nível sem se preocupar com tantos detalhes de baixo nível.

Como engenheiro de dados, é inteiramente possível que você passe a maior parte do seu tempo operando no topo ou perto do topo dessa hierarquia, o que significa que você não precisará pensar nos detalhes de exatamente como seus dados estão se movendo entre diferentes componentes e sistemas de armazenamento. No entanto, você será mais eficaz no seu trabalho se dedicar tempo para entender o funcionamento interno, as capacidades e as limitações de suas soluções de armazenamento, até os ingredientes mais básicos. A verdade é que muitos engenheiros de dados em prática hoje não compreendem profundamente os detalhes dos sistemas de armazenamento que constroem. Isso leva a consequências infelizes quando se trata de coisas como desempenho e custo. Acontece que eu já consultei uma equipe que falhou em considerar esses detalhes. Eles precisavam mover um grande conjunto de dados para seu data warehouse e, sem saber, escolheram usar uma abordagem de inserções diretas de linha para cada linha individual de dados, ou seja, estavam ingerindo e gravando uma linha por vez no data warehouse. Isso se revelou não apenas muito lento, mas também muito caro, uma vez que inserções diretas de linha geralmente são cobradas com base no uso. No final, eles descobriram seu erro e mudaram para uma abordagem de ingestão em massa, mas apenas depois de desperdiçar um tempo significativo e consumir metade do orçamento anual de data warehousing em apenas uma semana.

De qualquer forma, será vantajoso para você ser “armazém consciente” como engenheiro de dados. É por isso que vamos explorar os detalhes e implicações de várias soluções de armazenamento ao longo destes cursos. A seguir, vamos olhar para a próxima etapa do ciclo de vida da engenharia de dados: transformação de dados.